// constants.js

// Словарь стоимости найма по ID юнита
export const HIRE_COSTS = {
    39: 5,    // Гоблин воин
    53: 30,   // Гоблин стрелок
    55: 50,   // Вепрь
    56: 75,   // дриада
    57: 75,   // эльф-стрелок
    58: 100,  // кентавр-воин
    60: 400,  // тролль леса
    62: 250,  // виверна
    61: 200,  // дендроид
    '-64': 750, // гидра
    20: 30,   // Гигансткий Краб
    65: 30,   // Гремлин-стрелок
    66: 50,   // Гремлин-маг
    71: 45,   // Гарпия-воительница
    72: 50,   // Гарпия-лучница
    73: 120,  // Пегас
    76: 80,   // Орёл
    74: 330,  // Грифон
    212: 350, // Табакси-снайпер
    '-69': 900, // Смерч
    117: 5,   // Жук Грома
    118: 40,  // Эхо-ворон
    116: 45,  // Гоблин Ритма
    119: 50,  // Флейтист Забвения
    210: 130, // Тритон-воин
    6: 100,   // Громовая лягушка
    121: 350, // Ревун
    211: 450, // Тритон-убийца
    '-124': 850, // Гигант Звука
    89: 5,    // Фея Льда
    95: 30,   // Мефит Льда
    98: 65,   // Голем снега
    203: 80,  // Голиаф воин
    99: 140,  // Голем Льда
    93: 150,  // Медведь Льда
    96: 250,  // Паук Льда
    204: 500, // Мамонт
    '-101': 650, // Йети
    37: 5,    // Кобольд-воин
    78: 5,    // Сеточница
    81: 30,   // Пчела-солдат
    83: 50,   // Олень Молнии
    87: 50,   // Плазмоид-солдат
    88: 75,   // Плазмоид-шаман
    82: 150,  // Медведь Молнии
    201: 300, // Птица грома
    202: 550, // Ракшас
    '-86': 650, // Гигант Молнии
    23: 20,   // Муравей-солдат
    36: 30,   // Кобольд-шаман
    25: 70,   // Глиняный голем
    31: 75,   // Гнолл-шаман
    26: 150,  // Каменный голем
    34: 250,  // Червяк
    33: 350,  // Тролль скал
    32: 500,  // Огр гор
    '-27': 650, // Медуза Горгона
    30: 5,    // Гнолл-бродяга
    107: 25,  // Светопоклонник
    106: 25,  // Ревнитель веры
    109: 30,  // Гончая Света
    110: 40,  // Лучезарный лучник
    105: 90,  // Паладин Света
    208: 150, // Единорог
    102: 200, // Петсухос
    209: 450, // Дэва
    '-111': 900, // Инквизитор
    142: 5,   // Скелет-воин
    148: 30,  // Вурдалак
    145: 50,  // Зомби
    146: 30,  // Упырь
    151: 40,  // Гуль
    149: 90,  // Мумия
    150: 150, // Огр-зомби
    153: 200, // Вампир
    152: 450, // Мясник
    213: 900, // Некроголем
    136: 5,   // Оса Тьмы
    133: 35,  // Волк Мрака
    138: 35,  // Чтец Тьмы
    132: 45,  // Бес
    134: 90,  // Защитник Мрака
    137: 200, // Кошмар
    135: 250, // Ужас Тьмы
    206: 300, // Туманник
    205: 750, // Чазм
    45: 20,   // Гончая Огня
    43: 40,   // Гигантский Ходун
    40: 40,   // Гоблин-шаман
    16: 60,   // Орк-воин
    42: 70,   // Драконид-воин
    47: 200,  // Голем Огня
    207: 330, // Гигантский скорпион
    44: 200,  // Саламандра
    '-50': 600, // Инфернальный Гигант
};

// Сопоставление имен юнитов с их ID (для поиска стоимости)
export const UNIT_NAME_TO_ID = {
    // Life (Жизнь)
    "Гоблин воин": 39,
    "Гоблин стрелок": 53,
    "Вепрь": 55,
    "Дриада": 56,
    "Эльф-стрелок": 57,
    "Кентавр-воин": 58,
    "Тролль леса": 60,
    "Виверна": 62,
    "Дендроид": 61,
    "Гидра": -64,
    
    // Wind (Ветер)
    "Гигансткий Краб": 20,
    "Гремлин-стрелок": 65,
    "Гремлин-маг": 66,
    "Гарпия-воительница": 71,
    "Гарпия-лучница": 72,
    "Пегас": 73,
    "Орёл": 76,
    "Грифон": 74,
    "Табакси-снайпер": 212,
    "Смерч": -69,
    
    // Sound (Звук)
    "Жук Грома": 117,
    "Эхо-ворон": 118,
    "Гоблин Ритма": 116,
    "Флейтист Забвения": 119,
    "Тритон-воин": 210,
    "Громовая лягушка": 6,
    "Ревун": 121,
    "Тритон-убийца": 211,
    "Гигант Звука": -124,
    
    // Ice (Лёд)
    "Фея Льда": 89,
    "Мефит Льда": 95,
    "Голем снега": 98,
    "Голиаф воин": 203,
    "Голем Льда": 99,
    "Медведь Льда": 93,
    "Паук Льда": 96,
    "Мамонт": 204,
    "Йети": -101,
    
    // Lightning (Молния)
    "Кобольд-воин": 37,
    "Сеточница": 78,
    "Пчела-солдат": 81,
    "Олень Молнии": 83,
    "Плазмоид-солдат": 87,
    "Плазмоид-шаман": 88,
    "Медведь Молнии": 82,
    "Птица грома": 201,
    "Ракшас": 202,
    "Гигант Молнии": -86,
    
    // Stone (Камень)
    "Муравей-солдат": 23,
    "Кобольд-шаман": 36,
    "Глиняный голем": 25,
    "Гнолл-шаман": 31,
    "Каменный голем": 26,
    "Червяк": 34,
    "Тролль скал": 33,
    "Огр гор": 32,
    "Медуза Горгона": -27,
    
    // Light (Свет)
    "Гнолл-бродяга": 30,
    "Светопоклонник": 107,
    "Ревнитель веры": 106,
    "Гончая Света": 109,
    "Лучезарный лучник": 110,
    "Паладин Света": 105,
    "Единорог": 208,
    "Петсухос": 102,
    "Дэва": 209,
    "Инквизитор": -111,
    
    // Death (Смерть)
    "Скелет-воин": 142,
    "Вурдалак": 148,
    "Зомби": 145,
    "Упырь": 146,
    "Гуль": 151,
    "Мумия": 149,
    "Огр-зомби": 150,
    "Вампир": 153,
    "Мясник": 152,
    "Некроголем": 213,
    
    // Dark (Тьма)
    "Оса Тьмы": 136,
    "Волк Мрака": 133,
    "Чтец Тьмы": 138,
    "Бес": 132,
    "Защитник Мрака": 134,
    "Кошмар": 137,
    "Ужас Тьмы": 135,
    "Туманник": 206,
    "Чазм": 205,
    
    // Fire (Огонь)
    "Гончая Огня": 45,
    "Гигантский Ходун": 43,
    "Гоблин-шаман": 40,
    "Орк-воин": 16,
    "Драконид-воин": 42,
    "Голем Огня": 47,
    "Гигантский скорпион": 207,
    "Саламандра": 44,
    "Инфернальный Гигант": -50,
};

// Сопоставление юнитов с типами поселений
export const UNIT_TO_SETTLEMENT_TYPE = {
    // Light
    "Гнолл-бродяга": "Light",
    "Светопоклонник": "Light",
    "Ревнитель веры": "Light",
    "Гончая Света": "Light",
    "Лучезарный лучник": "Light",
    "Паладин Света": "Light",
    "Единорог": "Light",
    "Петсухос": "Light",
    "Дэва": "Light",
    "Инквизитор": "Light",
    
    // Life
    "Гоблин воин": "Life",
    "Гоблин стрелок": "Life",
    "Вепрь": "Life",
    "Дриада": "Life",
    "Эльф-стрелок": "Life",
    "Кентавр-воин": "Life",
    "Тролль леса": "Life",
    "Виверна": "Life",
    "Дендроид": "Life",
    "Гидра": "Life",
    
    // Death
    "Скелет-воин": "Death",
    "Вурдалак": "Death",
    "Зомби": "Death",
    "Упырь": "Death",
    "Гуль": "Death",
    "Мумия": "Death",
    "Огр-зомби": "Death",
    "Вампир": "Death",
    "Мясник": "Death",
    "Некроголем": "Death",
    
    // Dark
    "Оса Тьмы": "Dark",
    "Волк Мрака": "Dark",
    "Чтец Тьмы": "Dark",
    "Бес": "Dark",
    "Защитник Мрака": "Dark",
    "Кошмар": "Dark",
    "Ужас Тьмы": "Dark",
    "Туманник": "Dark",
    "Чазм": "Dark",
    
    // Fire
    "Гончая Огня": "Fire",
    "Гигантский Ходун": "Fire",
    "Гоблин-шаман": "Fire",
    "Орк-воин": "Fire",
    "Драконид-воин": "Fire",
    "Голем Огня": "Fire",
    "Гигантский скорпион": "Fire",
    "Саламандра": "Fire",
    "Инфернальный Гигант": "Fire",
    
    // Ice
    "Фея Льда": "Ice",
    "Мефит Льда": "Ice",
    "Голем снега": "Ice",
    "Голиаф воин": "Ice",
    "Голем Льда": "Ice",
    "Медведь Льда": "Ice",
    "Паук Льда": "Ice",
    "Мамонт": "Ice",
    "Йети": "Ice",
    
    // Stone
    "Муравей-солдат": "Stone",
    "Кобольд-шаман": "Stone",
    "Глиняный голем": "Stone",
    "Гнолл-шаман": "Stone",
    "Каменный голем": "Stone",
    "Червяк": "Stone",
    "Тролль скал": "Stone",
    "Огр гор": "Stone",
    "Медуза Горгона": "Stone",
    
    // Sound
    "Жук Грома": "Sound",
    "Эхо-ворон": "Sound",
    "Гоблин Ритма": "Sound",
    "Флейтист Забвения": "Sound",
    "Тритон-воин": "Sound",
    "Громовая лягушка": "Sound",
    "Ревун": "Sound",
    "Тритон-убийца": "Sound",
    "Гигант Звука": "Sound",
    
    // Wind
    "Гигансткий Краб": "Wind",
    "Гремлин-стрелок": "Wind",
    "Гремлин-маг": "Wind",
    "Гарпия-воительница": "Wind",
    "Гарпия-лучница": "Wind",
    "Пегас": "Wind",
    "Орёл": "Wind",
    "Грифон": "Wind",
    "Табакси-снайпер": "Wind",
    "Смерч": "Wind",
    
    // Lightning
    "Кобольд-воин": "Lightning",
    "Сеточница": "Lightning",
    "Пчела-солдат": "Lightning",
    "Олень Молнии": "Lightning",
    "Плазмоид-солдат": "Lightning",
    "Плазмоид-шаман": "Lightning",
    "Медведь Молнии": "Lightning",
    "Птица грома": "Lightning",
    "Ракшас": "Lightning",
    "Гигант Молнии": "Lightning",
};

// Перевод типов поселений на русский
export const SETTLEMENT_TYPE_NAMES = {
    'Light': 'Света',
    'Dark': 'Тьмы',
    'Death': 'Смерти',
    'Life': 'Жизни',
    'Fire': 'Огня',
    'Ice': 'Льда',
    'Stone': 'Камня',
    'Sound': 'Звука',
    'Wind': 'Ветра',
    'Lightning': 'Молнии',
    'Unknown': 'Неизвестного типа'
};

// Ресурсы для улучшения по уровням
export const RESOURCE_PER_TIER = {
    0: {}, // T0 - нет дополнительных ресурсов
    1: { 
        "leather_t1": 1  // T1 - только кожа
    },
    2: { 
        "112": 1,        // T2 - железная руда (ID 112)
        "leather_t2": 1  // и кожа T2
    },
    3: { 
        "120": 1,        // T3 - сталь (ID 120)
        "leather_t3": 1  // и кожа T3
    }
};

// Названия ресурсов
export const RESOURCE_NAMES = {
    // Основные ресурсы с ID
    "112": "Железная руда",
    "114": "Бревно",
    "115": "Мешок угля",
    "116": "Песчаник",
    "117": "Мешок песка",
    "118": "Стекло",
    "119": "Доска",
    "120": "Сталь",
    "121": "Каменный блок",
    
    // Кожа разных уровней
    "leather_t1": "Кожа I",
    "leather_t2": "Кожа II", 
    "leather_t3": "Кожа III",
    
    // Дополнительные ресурсы (можно добавить по мере необходимости)
    "1100": "Золотой слиток",
    "1101": "Серебряный слиток",
    "1102": "Медный слиток",
    "1103": "Оловянный слиток",
    "1104": "Бронза",
    "1105": "Латунь",
    "1106": "Свинец",
    "1107": "Цинк",
    "1108": "Никель",
    "1109": "Платина",
    "1110": "Титан",
    "1111": "Вольфрам",
    "1112": "Молибден",
    "1113": "Хром",
    "1114": "Ванадий",
    "1115": "Кобальт",
    "1116": "Ниобий",
    "1117": "Тантал",
    "1118": "Бериллий",
    "1119": "Магний",
    "1120": "Алюминий",
    "1121": "Кремний",
    "1122": "Фосфор",
    "1123": "Сера",
    "1124": "Хлор",
    "1125": "Калий",
    "1126": "Кальций",
    "1127": "Скандий",
    "1128": "Марганец",
    "1129": "Железо",
    "1130": "Медь",
    "1131": "Галлий",
    "1132": "Арсенид галлия",
    "1133": "Германий",
    "1134": "Мышьяк",
    "1135": "Селен",
    "1136": "Бром",
    "1137": "Рубидий",
    "1138": "Стронций",
    "1139": "Иттрий",
    "1140": "Цирконий",
    "1141": "Ниобий",
    "1142": "Технеций",
    "1143": "Рутений",
    "1144": "Родий",
    "1145": "Палладий",
    "1146": "Серебро",
    "1147": "Кадмий",
    "1148": "Индий",
    "1149": "Олово",
    "1150": "Сурьма",
    "1151": "Теллур",
    "1152": "Йод",
    "1153": "Ксенон",
    "1154": "Цезий",
    "1155": "Барий",
    "1156": "Лантан",
    "1157": "Церий",
    "1158": "Празеодим",
    "1159": "Неодим",
    "1160": "Прометий",
    "1161": "Самарий",
    "1162": "Европий",
    "1163": "Гадолиний",
    "1164": "Тербий",
    "1165": "Диспрозий",
    "1166": "Гольмий",
    "1167": "Эрбий",
    "1168": "Тулий",
    "1169": "Иттербий",
    "1170": "Лютеций",
    "1171": "Гафний",
    "1172": "Тантал",
    "1173": "Вольфрам",
    "1174": "Рений",
    "1175": "Осмий"
};

// Функция для определения типа поселения по зданиям
export const determineSettlementType = (buildings, garrison) => {
    if (!buildings || Object.keys(buildings).length === 0) {
        return 'Unknown';
    }
    
    const allUnits = [];
    
    // Собираем юнитов из зданий для найма
    Object.values(buildings).forEach(building => {
        if (building.hire && UNIT_TO_SETTLEMENT_TYPE[building.hire]) {
            allUnits.push(UNIT_TO_SETTLEMENT_TYPE[building.hire]);
        }
    });
    
    // Собираем юнитов из гарнизона
    if (garrison) {
        Object.values(garrison).forEach(unit => {
            if (unit.name && UNIT_TO_SETTLEMENT_TYPE[unit.name]) {
                allUnits.push(UNIT_TO_SETTLEMENT_TYPE[unit.name]);
            }
        });
    }
    
    // Если нашли юнитов, определяем самый частый тип
    if (allUnits.length > 0) {
        const typeCounts = {};
        allUnits.forEach(type => {
            typeCounts[type] = (typeCounts[type] || 0) + 1;
        });
        
        let maxType = 'Unknown';
        let maxCount = 0;
        
        Object.entries(typeCounts).forEach(([type, count]) => {
            if (count > maxCount) {
                maxCount = count;
                maxType = type;
            }
        });
        
        return maxType;
    }
    
    return 'Unknown';
};